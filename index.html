<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Cover Page Details</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root {
            --theme-blue: #2A4B9B; 
            --border-blue: #1e3a8a;
            --pure-red: #ff0505; 
            --electric-cyan: #00eaff; 
            --dark-panel: #2c3e50;
            --help-bg: #1c2833;
        }

        body {
            font-family: 'Times New Roman', Times, serif; 
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- UI Controls --- */
        .controls {
            background: var(--dark-panel); 
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            width: 100%;
            max-width: 850px;
            margin-bottom: 25px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .controls h2 { 
            grid-column: 1 / -1; 
            margin: 0 0 10px 0; 
            color: var(--pure-red); 
            text-align: center; 
            font-family: 'Arial Black', sans-serif; 
            text-transform: uppercase;
        }

        /* --- Updated How To Use Section --- */
        .help-section {
            grid-column: 1 / -1;
            background: var(--help-bg);
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid var(--electric-cyan);
            overflow: hidden;
        }

        .help-section summary {
            padding: 12px;
            color: var(--electric-cyan);
            cursor: pointer;
            font-weight: bold;
            font-family: sans-serif;
            outline: none;
            text-transform: uppercase;
            background: rgba(0, 234, 255, 0.1);
        }

        .help-content {
            padding: 20px;
            color: #ecf0f1;
            font-family: sans-serif;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .help-content h4 { margin: 15px 0 5px 0; color: var(--electric-cyan); border-bottom: 1px solid #444; }
        .help-content ul { margin: 5px 0 15px 0; padding-left: 20px; }
        .help-content b { color: #fff; }

        .controls h3 {
            grid-column: 1 / -1;
            border-bottom: 2px solid var(--electric-cyan); 
            padding-top: 10px; 
            color: var(--electric-cyan);
            font-family: sans-serif;
        }
        
        .form-group label { 
            display: block; 
            font-weight: bold; 
            margin-bottom: 4px; 
            color: var(--electric-cyan); 
            font-size: 0.9em; 
            font-family: sans-serif; 
            text-transform: uppercase;
        }

        .form-group input { 
            width: 100%; 
            padding: 8px; 
            border: 1px solid #bbb; 
            border-radius: 4px; 
            box-sizing: border-box;
            background-color: #ffffff !important; 
            color: #000000 !important;
        }

        .full-width { grid-column: 1 / -1; }
        
        .btn-download {
            grid-column: 1 / -1;
            padding: 15px;
            background-color: var(--electric-cyan);
            color: #1a1a1a; 
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: 0.3s;
            margin-top: 10px;
        }

        .btn-download:hover { filter: brightness(1.2); box-shadow: 0 0 15px var(--electric-cyan); }

        .ui-credit {
            grid-column: 1 / -1;
            text-align: center;
            font-family: sans-serif;
            font-size: 0.85em;
            color: #bbb;
            border-top: 1px solid #444;
            padding-top: 15px;
            line-height: 1.4;
            margin-top: 15px;
        }

        /* --- PDF Layout (Fixed A4 Size) --- */
        #page-container {
            width: 210mm;
            height: 296mm; 
            background: #fff;
            padding: 10mm;
            box-sizing: border-box;
            position: relative;
            overflow: hidden; 
        }

        .border-box {
            width: 100%;
            height: 100%;
            border: 5px solid var(--border-blue); 
            padding: 4px;
            box-sizing: border-box;
        }

        .inner-border {
            width: 100%;
            height: 100%;
            border: 1.5px solid var(--border-blue);
            padding: 30px 45px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin-bottom: 25px; 
            gap: 20px;
        }

        .logo-img { width: 100px; height: auto; flex-shrink: 0; }

        .uni-name {
            font-size: 24pt; 
            font-weight: bold;
            color: var(--theme-blue);
            text-transform: uppercase;
            text-align: center;
            line-height: 1.2;
            max-width: 550px;
        }

        .assignment-section {
            text-align: center;
            width: 100%;
            margin-bottom: 35px;
        }

        .main-title {
            font-size: 20pt;
            font-weight: bold;
            color: var(--theme-blue);
            text-transform: uppercase;
            text-decoration: underline;
        }

        .info-block {
            font-size: 15pt;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            margin-bottom: 45px;
        }

        .info-row { display: flex; justify-content: center; width: 100%; gap: 8px; }
        .label-theme { color: var(--theme-blue); }
        .value-text { color: #000; text-transform: uppercase; }

        .submitted-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .box-header {
            background-color: #000;
            color: #fff;
            font-size: 14pt;
            font-weight: bold;
            font-style: italic;
            padding: 5px 15px;
            display: inline-block;
            margin-bottom: 12px;
        }

        .student-grid {
            display: grid;
            grid-template-columns: 165px 25px auto;
            font-size: 14pt;
            font-weight: bold;
            row-gap: 8px;
            color: #000;
        }

        .teacher-info {
            font-size: 14pt;
            font-weight: bold;
            line-height: 1.5;
            color: #000;
        }

        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 380px;
            opacity: 0.07;
            z-index: 0;
            pointer-events: none;
        }

        @media print {
            .controls { display: none; }
            #page-container { box-shadow: none; margin: 0; }
        }
    </style>
</head>
<body>

    <div class="controls">
        <h2>Cover Page Details</h2>

        <details class="help-section">
            <summary>HOW TO USE THIS GENERATOR</summary>
            <div class="help-content">
                <h4>1. Visual Branding (Logo & Watermark)</h4>
                <p><b>Upload Logo:</b> Click the "Choose File" button under Upload Logo.</p>
                <p><b>What happens:</b> This will automatically place your university logo at the top of the page and create a subtle "watermark" in the center of the document.</p>
                <p><i>Tip: Use a high-quality .png or .jpg for the best result.</i></p>

                <h4>2. Institutional Information</h4>
                <p><b>University Name:</b> Enter the full, official name of your institution (e.g., University of Frontier Technology, Bangladesh).</p>
                <p><b>Heading (Assignment/Lab Report):</b> Specify the type of submission. Common values are ASSIGNMENT, LAB REPORT, THESIS, or PROJECT REPORT.</p>

                <h4>3. Course & Assignment Details</h4>
                <p><b>Course Code:</b> Enter the unique code for your subject (e.g., CSE-113).</p>
                <p><b>Submission Date:</b> Click the calendar icon to select the date you are handing it in. The system automatically formats this to DD-MM-YYYY for you.</p>
                <p><b>Course Title:</b> Enter the full name of the subject (e.g., DATA STRUCTURES AND ALGORITHM).</p>
                <p><b>Topic:</b> Enter the specific title of your assignment or experiment (e.g., GRAPH AND ALGORITHM).</p>

                <h4>4. SUBMITTED BY (Your Information)</h4>
                <p>Fill this section out accurately so your teacher knows who to grade:</p>
                <ul>
                    <li><b>Name:</b> Your full legal name.</li>
                    <li><b>ID:</b> Your student registration or roll number.</li>
                    <li><b>Department:</b> Your specific major (e.g., Data Science and Engineering).</li>
                    <li><b>Semester:</b> Your current academic session or semester (e.g., 1st Year 2nd Semester).</li>
                </ul>

                <h4>5. SUBMITTED TO (Teacher's Information)</h4>
                <p>Ensure you use the correct titles for your instructor:</p>
                <ul>
                    <li><b>Teacher Name:</b> Their full name.</li>
                    <li><b>Designation:</b> Their official rank (e.g., Lecturer, Assistant Professor, or Department Head).</li>
                    <li><b>Teacher Department:</b> The department the teacher belongs to.</li>
                </ul>

                <h4>6. The Final Step: Download</h4>
                <p>Once you are satisfied with the preview:</p>
                <ul>
                    <li>Review all the text for spelling errors.</li>
                    <li>Click the <b>GENERATE & DOWNLOAD PDF</b> button.</li>
                    <li>The file will be saved to your computer as <b>CoverPage_[YourID].pdf</b>.</li>
                </ul>
            </div>
        </details>
        
        <div class="form-group full-width">
            <label>Upload Logo</label>
            <input type="file" id="logoInput" accept="image/*" onchange="handleLogoUpload()">
        </div>
        <div class="form-group full-width">
            <label>University Name</label>
            <input type="text" id="i_uni" value="UNIVERSITY OF FRONTIER TECHNOLOGY, BANGLADESH" oninput="update()">
        </div>
        <div class="form-group full-width">
            <label>Heading (Assignment/Lab Report)</label>
            <input type="text" id="i_main_title" value="ASSIGNMENT" oninput="update()">
        </div>
        <div class="form-group">
            <label>Course Code</label>
            <input type="text" id="i_cc" value="CSE-113" oninput="update()">
        </div>
        <div class="form-group">
            <label>Submission Date</label>
            <input type="date" id="i_date_picker" onchange="handleDateChange()">
            <input type="hidden" id="i_date">
        </div>
        <div class="form-group full-width">
            <label>Course Title</label>
            <input type="text" id="i_ct" value="DATA STRUCTURES AND ALGORITHM" oninput="update()">
        </div>
        <div class="form-group full-width">
            <label>Topic</label>
            <input type="text" id="i_topic" value="GRAPH AND ALGORITHM" oninput="update()">
        </div>

        <h3 class="full-width"><b>SUBMITTED BY</b></h3>
        <div class="form-group"><label>Name</label><input id="i_sname" value="GRANTHA SAHA" oninput="update()"></div>
        <div class="form-group"><label>ID</label><input id="i_sid" value="DSE-2305010" oninput="update()"></div>
        <div class="form-group full-width"><label>Department</label><input id="i_sdept" value="DATA SCIENCE AND ENGINEERING" oninput="update()"></div>
        <div class="form-group"><label>Semester</label><input id="i_sses" value="2023-24" oninput="update()"></div>

        <h3 class="full-width"><b>SUBMITTED TO</b></h3>
        <div class="form-group full-width"><label>Teacher Name</label><input id="i_tname" value="SHARAD HASAN" oninput="update()"></div>
        <div class="form-group full-width"><label>Designation</label><input id="i_tdesig" value="LECTURER" oninput="update()"></div>
        <div class="form-group full-width"><label>Teacher Department</label><input id="i_tdept" value="DEPARTMENT OF DATA SCIENCE AND ENGINEERING" oninput="update()"></div>

        <button class="btn-download" onclick="genPDF()">GENERATE & DOWNLOAD PDF</button>

        <div class="ui-credit">
            <strong>Academic Cover Page Generator</strong><br>
            Created By- <strong style="color: #ff0505;">GRANTHA SAHA</strong><br>
            Data Science And Engineering<br>
            <strong style="color: #ff0505;">University of Frontier Technology, Bangladesh</strong>
        </div>
    </div>

    <div id="page-container">
        <div class="border-box">
            <div class="inner-border">
                <img id="wm-img" class="watermark" src="" alt="">

                <div class="header">
                    <img id="main-logo" class="logo-img" src="" alt="">
                    <div class="uni-name" id="o_uni">UNIVERSITY OF FRONTIER TECHNOLOGY, BANGLADESH</div>
                </div>

                <div class="assignment-section">
                    <div class="main-title" id="o_main_title">ASSIGNMENT</div>
                </div>

                <div class="info-block">
                    <div class="info-row"><span class="label-theme">COURSE CODE :</span><span class="value-text" id="o_cc"></span></div>
                    <div class="info-row"><span class="label-theme">DATE OF SUBMISSION :</span><span class="value-text" id="o_date"></span></div>
                    <div style="height: 10px;"></div>
                    <div class="info-row"><span class="label-theme">COURSE TITLE :</span><span class="value-text" id="o_ct"></span></div>
                    <div style="height: 10px;"></div>
                    <div class="info-row"><span class="label-theme">TOPIC :</span><span class="value-text" id="o_topic"></span></div>
                </div>

                <div class="submitted-container">
                    <div class="submitted-box">
                        <div class="box-header">SUBMITTED BY:</div>
                        <div class="student-grid">
                            <div>NAME</div><div>:</div><div id="o_sname"></div>
                            <div>STUDENT ID</div><div>:</div><div id="o_sid"></div>
                            <div>DEPARTMENT</div><div>:</div><div id="o_sdept"></div>
                            <div>SEMESTER</div><div>:</div><div id="o_sses"></div>
                        </div>
                    </div>

                    <div class="submitted-box">
                        <div class="box-header">SUBMITTED TO:</div>
                        <div class="teacher-info">
                            <div id="o_tname"></div>
                            <div id="o_tdesig"></div>
                            <div id="o_tdept"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function handleLogoUpload() {
            const input = document.getElementById('logoInput');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('main-logo').src = e.target.result;
                    document.getElementById('wm-img').src = e.target.result;
                    localStorage.setItem('user_logo_v3', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function handleDateChange() {
            const picker = document.getElementById('i_date_picker');
            const hiddenInput = document.getElementById('i_date');
            
            if (picker.value) {
                const date = new Date(picker.value);
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const year = date.getFullYear();
                hiddenInput.value = `${day}-${month}-${year}`;
            }
            update();
        }

        function update() {
            const fields = {
                'i_uni': 'o_uni', 'i_main_title': 'o_main_title',
                'i_cc': 'o_cc', 'i_date': 'o_date',
                'i_ct': 'o_ct', 'i_topic': 'o_topic',
                'i_sname': 'o_sname', 'i_sid': 'o_sid',
                'i_sdept': 'o_sdept', 'i_sses': 'o_sses',
                'i_tname': 'o_tname', 'i_tdesig': 'o_tdesig', 'i_tdept': 'o_tdept'
            };
            for(let inputId in fields) {
                const val = document.getElementById(inputId).value;
                document.getElementById(fields[inputId]).textContent = val.toUpperCase();
            }
        }

        function genPDF() {
            const element = document.getElementById('page-container');
            const studentID = document.getElementById('i_sid').value || "CoverPage";
            
            const opt = {
                margin: 0,
                filename: `CoverPage_${studentID}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 3, useCORS: true, scrollY: 0 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            html2pdf().set(opt).from(element).save();
        }

        window.onload = function() {
            const savedLogo = localStorage.getItem('user_logo_v3');
            if(savedLogo) {
                document.getElementById('main-logo').src = savedLogo;
                document.getElementById('wm-img').src = savedLogo;
            }

            const today = new Date().toISOString().split('T')[0];
            document.getElementById('i_date_picker').value = today;
            handleDateChange(); 
        };
    </script>
</body>
</html>